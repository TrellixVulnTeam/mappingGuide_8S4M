<form [formGroup]="mgUI" (ngSubmit)="onSubmit()" *ngIf="!!mgUI">
  <mat-form-field appearance="fill">
    <mat-label>Group Id</mat-label>
    <mat-select formControlName="groupId" [(ngModel)]="selectedId" multiple required>
      <mat-option *ngFor="let group of groups" [value]="group.id">
        {{group.name}}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="groupIdControl.hasError('required')">Please choose an ID</mat-error>
    <mat-hint>{{mgUI.value.groupId}}</mat-hint>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Operation</mat-label>
    <mat-select formControlName="operation" multiple required>
      <mat-option *ngFor="let operation of operations" [value]="operation.name">
        {{operation.name}}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="operationControl.hasError('required')">Please Choose an Operation</mat-error>
  </mat-form-field>
  <div class="example-form" formGroupName="type">
    <mat-form-field appearance="fill">
      <mat-label>EntityType</mat-label>
      <mat-select formControlName="entityType" [(ngModel)]="selectedEntity" multiple required>
        <mat-option *ngFor="let entity of entities" [value]="entity.name">
          {{entity.name}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="entityControl.hasError('required')">Please Choose an Entity</mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Name</mat-label>
      <input matInput placeholder="Company name" name="name" formControlName="name">
      <mat-hint><strong>Please keep an unique name</strong> </mat-hint>
    </mat-form-field>
    <!-- <span formControlName="_id"></span> -->
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>ID</mat-label>
      <input matInput formControlName="_id" [readonly]="true" [value]="this.newName">
      <!-- <input matInput formControlName="_id" name="_id" [readonly]="true" [value]='selectedId + "_" + selectedEntity'> -->
    </mat-form-field>
  </div>
  <p>
    <mat-checkbox formControlName="eachRowUniqueEntity">Row Unique Entity</mat-checkbox>
  </p>
  <p>
    <mat-checkbox formControlName="matchCargosByOrderNumber">Cargo Order Number</mat-checkbox>
  </p>
  <app-dialog-box></app-dialog-box>
  <!-- (click)="openDialog()" -->
  <button mat-raised-button color="primary" type="submit">Send</button>
</form>
<div class="form-val">
  {{mgUI.value | json}}
</div>
